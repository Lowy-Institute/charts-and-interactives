@import app/static/features/fortress-australia/styles/_vars.sass

// Colors
.bg-hl
  background: $color-hl
.bg-dk
  background: $color-dk
.bg-lt
  background: $color-lt
.bg-ff
  background: $color-ff
.bg-ffs
  box-shadow: -32px 0 $color-ff, 32px 0 $color-ff
  line-height: 1.5
  padding: 6px 0
  transform: translate3d(0, 40px, 0)
  color: transparent !important
  opacity: 0

  .active &
    transition: all 800ms, color 800ms 300ms
    opacity: 1
    box-shadow: -8px 0 $color-ff, 8px 0 $color-ff
    transform: translate3d(0, 0, 0)
    color: $color-dk !important

.txt-hl
  color: lighten($color-hl, 2)
.txt-dk
  color: $color-dk
.txt-lt
  color: $color-lt
.txt-ff
  color: $color-ff
.txt-mt
  color: $color-mt

.p-lg
  padding: 2.4rem

// Grid
.row
  display: flex
  flex-direction: row
  width: 100%
  height: 50%

  &:only-child
    height: 100%

.fill
  width: 100%
  height: 100%

.col-fw,
.col-1-2,
.col-1-3,
.col-2-3
  display: flex
  justify-content: center
  align-items: center
  flex-shrink: 0
  flex-grow: 0
  overflow: hidden
  box-sizing: border-box
  position: relative
  flex-direction: column

.fd-r
  flex-direction: row

.caption
  position: absolute
  bottom: 7%
  left: 20px
  right: 20px
  text-align: center
  text-transform: uppercase
  font-size: 12px

  p
    margin: 0

  em
    font-style: normal
    text-transform: none
    letter-spacing: 0

  a
    background: none

.col-fw
  width: 100%
  flex-basis: 100%
.col-1-2
  width: 50%
  flex-basis: 50%
.col-1-3
  width: 33.33%
  flex-basis: 33.33%
.col-2-3
  width: 66.67%
  flex-basis: 66.67%

.bg-img
  width: 100%
  height: 100%
  object-fit: cover

.bg-img-top
  object-position: top center

.bg-img-abs
  position: absolute
  z-index: -1

.bg-bar
  height: 100%
  position: absolute
  transform: translate3d(-100%, 0, 0)
  transition: transform 1.5s
  opacity: 0.1
  top: 0
  left: 0
  z-index: -1

  .active &
    transform: translate3d(0, 0, 0)

.img-pan
  width: 100%
  height: 100%
  .bg-img
    max-width: none
    transform: translate3d(0, 0, 0) scale(1.2)

    .active &
      transition: transform 12s
      transform: translate3d(0, 0, 0) scale(1)

.frame
  position: relative
  z-index: 1

.txt-source
  position: absolute
  right: 0
  bottom: 8px
  color: $color-ff
  padding: 8px
  font-weight: 400
  font-family: Sans, sans-serif

  &:not([class*="bg"])
    background: $color-hl

  &.txt-source-border
    border: 1px solid

  em
    float: right
    display: block
    font-style: normal
    margin: -8px
    margin-left: 8px

  a
    color: $color-dk
    text-decoration: none
    display: block
    padding: 8px
    width: 1.2em
    background: $color-ff
    transition-property: all

    &:hover,
    &:focus
      opacity: 0.8

.stripe-lt,
.stripe-ff,
.stripe-dk
  height: 12px
  width: 160px
  display: block
  margin: 8px auto 8px 0
  background-repeat: repeat-x
  background-size: 100%
  border-radius: 12px 0 12px 0

  .txt-right &
    margin-left: auto
    margin-right: 0

  .txt-center &
    margin-left: auto
    margin-right: auto

  .active &
    animation: stripe 6000ms infinite linear

.stripe-lt
  background-image: url("/features/australia-votes-2019/img/mask.png"), url("/features/australia-votes-2019/img/stripe.png")

.mxw
  margin: auto

.social-share
  display: flex
  height: 100%

  .icon
    width: 40px
    height: 40px
    line-height: 40px
    border-radius: 20px
    display: inline-block
    border: 1px solid transparent
    color: $color-dk
    border: 1px solid $color-dk
    margin: auto
    margin-left: 8px
    box-sizing: border-box
    transition: all 300ms

    &:hover
      color: $color-ff
      background-color: $color-dk

.digit
  overflow: hidden
  display: inline-block
  position: relative
  height: 1em
  line-height: 1
  vertical-align: bottom

  ul
    list-style: none
    padding: 0
    position: absolute
    left: 0
    top: 0
    height: 10em

  li
    margin: 0
    line-height: inherit
    user-select: none

    &.active
      user-select: auto

.link-grid
  width: 100%
  height: 100%
  overflow: hidden

  li#active
    background: $color-dk

  li
    height: 25%
    float: left
    position: relative

    a > span
      transition: all 450ms cubic-bezier(0.7, 0.7, 0.3, 1)

    a
      display: block
      height: 100%
      width: 100%
      display: flex
      align-items: center
      justify-content: center
      position: relative
      z-index: 1
      box-sizing: border-box

      &:before
        content: ""
        position: absolute
        top: 0
        left: 0
        right: 0
        bottom: 0
        background-color: $color-dk
        transform: translate3d(100%, 0, 0)
        transition: all 450ms cubic-bezier(0.7, 0.7, 0.3, 1)
        z-index: -1

      &:hover,
      &:focus
        color: $color-ff

        span
          border-bottom-color: $color-hl

        &:before
          opacity: 1
          transform: translate3d(0, 0, 0) !important

    &:nth-child(2n + 1)
      a:before
        transform: translate3d(-100%, 0, 0)

    @for $i from 1 through 13
      $ratio: 1 - ($i - 1) / 12

      &:nth-child(#{$i})
        background: mix($color-dk, $color-hl, $ratio * 100%)

.h-screen
  height: 100vh
.w-screen
  width: 100vw
.z100
  z-index: 100
.fixed
  position: fixed
.absolute
  position: absolute
.relative
  position: relative


@keyframes stripe
  to
    background-position: 0 0, -160px 0

@keyframes prompt
  to
    color: $color-dk
