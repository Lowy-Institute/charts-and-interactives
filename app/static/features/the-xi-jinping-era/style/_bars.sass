.bars
  overflow: hidden

.bar
  height: 40px
  line-height: 40px
  margin: 0
  position: relative

  // #covid-zero &
  //   height: 30px
  //   line-height: 30px

.bar-border + .bar-border .bar-label
  margin-top: -1px
  border-top: 1px solid $color-border

.bar-border + .bar-border-mid .bar-label
  border-top-color: $color-border

.bar-border + .bar-border
  .bar-bg.bg-dk
    border-top: 1px solid $color-border

.bar-bg,
.bar-label,
.bar-value
  position: absolute
  top: 0
  bottom: 0

.bar-value
  left: 16px

  &.bar-value-outside
    left: auto
    right: 100%
    margin-right: 16px

.bar-value-right
  right: 16px
  left: auto

  &.bar-value-outside
    left: 100%
    margin-left: 16px
    right: auto
    margin-right: 0


.bar-bg
  opacity: 0

  .playing &,
  .complete &
    transition: opacity 600ms 600ms
    opacity: 1

    ~ .bar-label
      transition: opacity 600ms 1200ms
      opacity: 1

.bar-bg-fade
  background-image: linear-gradient(to top, rgba($color-dk, 0.4), rgba($color-dk, 0.4))

.bar-label
  right: 0
  opacity: 0
  width: 100%
  top: 0

.bar-group
  width: 50%
  float: left
  box-sizing: border-box
  height: 100%
  position: relative
  overflow: hidden

  + .bar-group
    border-left: 2px solid $color-border
    margin-left: -1px
    z-index: 1
    position: relative

.bar-group-label
  position: absolute
  bottom: 0
  left: 0
  right: 0

/* stop long labels wrapping for small values on _keyword_frequency.pug */
#keyword_frequency .bar-value-outside
  min-width: 80px 

/* layout changes for _associates.pug */
#associates .bar-group .bar
  margin-bottom: 50px
#associates .bar-group .bar:nth-child(n+5) 
  transform: translateY(-226px) 
#associates .bar-group .bar:last-child
  margin-bottom: 0
#associates .bar-group .bar:nth-of-type(n+5) .bar-label
  display: none
#associates #label:nth-of-type(1)
  transform: translateY(-32px) 
#associates #label > span
  display:inline-block
  &:before
    content: ""
    width: 16px
    height: 16px
    display: block
    float: left
    margin: 1px 12px 0px 0px
    background: $color-hl

#associates #label:nth-of-type(1) > span:before
  background: $color-muted
  