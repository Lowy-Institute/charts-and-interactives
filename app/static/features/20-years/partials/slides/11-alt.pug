- 
  const fundingData = [
    {label: "other", class: "bg-lt", v: 1},
    {label: "sponsorship", class: "bg-hl", v: 1},
    {label: "membership", class: "bg-b-lt", v: 15},
    {label: "donations", class: "bg-b-bl", v: 36},
    {label: "grants", class: "bg-b-dk", v: 47},
  ]

.row
  .col-2-3
    .block.p-sm
      :marked
        For each of the Institute’s first 20 years, our Chairman has asked: how do we know we are succeeding? 
        
        We know because others invest in our work: more than half the Institute’s funding now comes from external grants and corporate support. We know because the best think tanks and research institutions want to work with us: from the Brookings Institution and Council on Foreign Relations in the United States to the Foundation for Strategic Research in France and the Australian National University. We know because Lowy Institute staff have gone on to fill prominent roles in government, including heads of intelligence agencies and senior advisors to cabinet ministers.

  .col-1-3.flex-col
    .funding-chart-title.txt-md Our funding
    .funding-chart.flex-col
      for item, i in fundingData
        .funding-chart-group.flex
          .funding-chart-label.txt-right.txt-tu.txt-xs= item.label
          .funding-chart-items
            for _, i in new Array(item.v)
              .funding-chart-item(
                class=`${item.class} ${i < 10 && 'bt'} ${(i % 10 === 0) && 'bl'} ${((i % 10 === 9) || (i === item.v - 1)) && 'br'} ${(i >= item.v - 10) && 'bb'}`
              )
            .funding-chart-value.txt-tu.txt-xs #{item.v}%

style
  :sass
    .funding-chart
      grid-gap: 0.5rem
      gap: 0.5rem

    .funding-chart-title
      margin-bottom: 1rem

    .funding-chart-group
      display: grid
      grid-gap: 1rem
      grid-template-columns: 1fr auto
        
    .funding-chart-items
      display: grid
      grid-template-columns: repeat(10, 1.125rem)

    .funding-chart-value
      margin-left: 6px
      margin-top: 2px
      opacity: 0.85

    .funding-chart-item
      width: 1.125rem
      height: 1.125rem
      box-sizing: border-box

      &.bt
        border-top: 1px solid rgba(#fff, 0.5)
      &.bl
        border-left: 1px solid rgba(#fff, 0.5)
      &.br
        border-right: 1px solid rgba(#fff, 0.5)
      &.bb
        border-bottom: 1px solid rgba(#fff, 0.5)
