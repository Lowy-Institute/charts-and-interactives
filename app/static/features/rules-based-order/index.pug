extend /partials/layout

block append config
  - page.includeFonts = false
  - page.url = "https://interactives.lowyinstitute.org/features/rules-based-order/"
  - page.class = ""
  - page.title = "Rules Based Order"
  - page.metaTitle = `${page.title} - Lowy Institute`
  - page.description = ""
  - page.image = ""
  
  - var cards = data.getOne("static/features/rules-based-order/data").cards
  
block page
  include partials/header
  include partials/stickyheader
  include partials/intro
  .card.wrap
    for card in cards
      if card.type == "anchor"
        if card.year == 2015
          .anchor(id=`${card.year}`)= "2014 - 2015"
        else
          .anchor(id=`${card.year}`)= card.year
      else
        - let isWide = card.type == "historyTimeline" ? "wide" : ""
        .card.row(class=`${card.type}`)
          .card.item(class=`${isWide}`)
          
            if card.type == "quote"
              include partials/quote
            else if card.type == "historyTimeline" 
              include partials/history 
            else if card.type == "excerpt" 
              .date.txt-sm!= card.date
            else
              .cardtype.txt-sm= card.type
            
            if card.type == "opinion"
              .expert
                img.expert.image(src=card.expert.image)
                .txt-xl!= card.expert.name
                  .txt-ml!= card.expert.credentials
            else
              .heading.txt-l!= card.title
              .subheading.txt-ml!= card.subtitle 
              
            .content
              include partials/content
                
          if card.media != undefined
            include partials/media
            
  
block append css
  style
    include:sass _styles.sass
    include:sass style/_history.sass 
    
block append scripts
  script(type="text/javascript" src="script/nav.js")
