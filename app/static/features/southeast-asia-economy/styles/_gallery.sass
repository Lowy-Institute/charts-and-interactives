$w-gallery: 1150px
$w-mobile: 450px

.post-gallery
  flex: 1
  top: 65px
  padding: 1rem
  justify-content: center
  transition: all 0.5s, color 0.2s
  border-bottom: 1px solid
  width: 100%
  margin-left: auto
  margin-right: auto
  z-index: 10
  background: #002b45
  color: white

  .gallery-inner
    max-width: $w-gallery
    display: grid
    gap: 1rem
    grid-template-columns: repeat(6, 1fr)
    margin: auto
    padding-bottom: 2rem

  &.relative
    top: 0
    position: relative
    
  &.sticky
    position: sticky

  &.fixed
    position: fixed
    width: 100%

  &.invert
    color: $color-text
    background: white

  &.collapse
    transform: translateY(-100%)

    h3
      border-top-color: currentColor
      transform: translateY(40px)

    img,
    .caption
      opacity: 0

  .post
    position: relative
    align-items: center
    transition: filter 0.5s
    filter: saturate(0)

    &:hover
      filter: saturate(1)

    a
      &:hover
        color: currentColor

    *
      transition: all 0.5s, color 0.2s

  img
    height: 210px
    width: 160px
    min-width: 160px
    background-color: #002b45
    overflow: hidden
    border-radius: 0.25rem
    transform-origin: top

  h3
    margin: 0 0 0.25em
    padding-top: 1rem
    border-top: 1px solid transparent

  .caption
    line-height: 20px

@media (max-width: $w-gallery)
  .post-gallery
    justify-content: flex-start
    cursor: grab

    .gallery-inner
      gap: 1rem
      scroll-snap-type: x mandatory

    .post
      scroll-snap-align: center
      padding-left: 0rem

    img
      width: 200px
      min-width: 200px
      height: 250px

@media (max-width: $w-mobile)

  .post-gallery
    .post
      opacity: 0.5
      filter: grayscale(1)
      transition: opacity 0.5s

      &.active
        opacity: 1
        filter: none

    img
      width: 225px
      min-width: 225px
      height: 300px
