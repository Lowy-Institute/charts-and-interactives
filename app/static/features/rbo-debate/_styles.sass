// Vars

$red: #b90000
$yellow: #FFD010
$dark: #282200
$mute: #707070

$header-height: 55px

@keyframes zoomout
  0%
    transform: scale(1.08)
  100%
    transform: scale(1)

// Root settings

html
  overflow: visible

body
  font-family: Sans
  font-size: 22px
  line-height: 1.25
  overflow: hidden
  font-weight: 300
  color: $dark
  font-feature-settings: "liga" 0
  text-rendering: geometricPrecision

*
  box-sizing: border-box

p, pre, dl, dd, ul, ol, svg
  margin-bottom: 1.5em

  &:last-child
    margin-bottom: 0

h2, h3, h4
  font-weight: 600
  letter-spacing: 0.02em!important

header
  z-index: 10
  position: fixed
  width: 100%
  height: $header-height
  line-height: $header-height
  letter-spacing: 0.06em
  padding: 0 2em
  background: white
  box-shadow: 0px 4px 4px #0004

a
  text-decoration: none
  transition: 400ms ease-in-out
  color: $dark
  &:hover
    color: $red
  &.bg-red:hover
    color: white
    background: lighten($red, 10)

iframe
  overflow: hidden
  margin: 1.5em 0 2em

blockquote
  font-family: 'Semi', sans-serif
  color: #333
  font-size: 0.8em
  padding: 0.5em 0 0.5em 1em
  border: 0

  p:before
    content: '“ '
  p:after
    content: ' ”'

p small
  font-style: italic
  font-weight: 300
  line-height: 1.2
  color: $mute

// Colors

.bg-red
  background: $red
.bg-yel
  background: $yellow
.bg-ff
  background: white
.bg-fffd
  background: #fffd
.bxsh-yel
  box-shadow: -15px 13px 0px 0.5px $yellow

.txt-red
  color: $red
.txt-yel
  color: $yellow
.txt-dk
  color: $dark
.txt-mute
  color: $mute
.txt-ff
  color: white


// Typography

.txt-spaced
  line-height: 1.5

.strong
  font-weight: 600
  font-style: normal
  letter-spacing: 0.03em

.title
  font-weight: 200
  font-size: 72px
  line-height: 72px

.pg-title h1
  font-size: 60px
  line-height: 60px
  padding: .5em 1.5em
  font-weight: 400

// Sizes

.xl
  font-size: 38px
.lg
  font-size: 26px
.md
  font-size: 22px
.sm
  font-size: 17px
.xs
  font-size: 14px

.fw-4
  font-weight: 400
.fw-5
  font-weight: 500

// layout

.header-title
  display: table
  white-space: nowrap
  margin: auto
  width: 100%
  left: 0


.landing
  max-width: 875px
  padding-top: 160px
  margin-bottom: 20px

  h2
    font-size: 32px
    letter-spacing: 0!important
    max-width: 700px

  p
    max-width: 700px
    margin-left: auto
    margin-right: auto

  #read-more
    overflow: hidden
    padding-bottom: 2px

    p:last-child
      margin-bottom: 1em

  a
    display: inline-flex
    align-items: baseline
    color: white
    transition: box-shadow 0.3s

    &:hover
      box-shadow: 0 1px 0 0 $yellow


.container
  background: $red

.wrap
  width: 100%

.list
  width: 90%
  max-width: 900px
  padding: 70px

  .label
    margin-top: -2.25em
    font-weight: 300
    font-size: 16px
    // border-bottom: 1px solid rgba($red, 0.9)
    padding-bottom: 0.25em
    text-transform: uppercase

    &.label-l
      margin-left: auto


  &-item
    padding-top: 10px

  h2
    color: $dark

  h3
    color: $red
    margin-bottom: 1em

  a:hover
    color: lighten($red, 20)
    svg path
      fill: lighten($red, 20)

  p
    margin-bottom: 0.5em

  svg
    display: inline

  .flex
    margin-top: 80px

  .col-1-2:first-child
    margin-right: 30px
  .col-1-2:last-child
    margin-left: 30px

.col-1-2
  width: 50%
  flex-basis: 50%
  position: relative
  min-height: 10px

.logo
  max-width: 80px
  line-height: 1.1
  padding: 12.5px 0

#title-short
  display: none

.icon-social-facebook
  padding: 0 10px


// Article pages

.article-w
  width: 100%
  max-width: 675px

.article-landing
  position: relative
  overflow: hidden
  height: 100vh

  .bg-img
    position: absolute
    background-size: cover!important
    animation: zoomout 6s ease forwards
    z-index: -1
    width: 100%
    height: 100%

.pg-title

  h1
    display: inline-block
    padding: 0.5em
    margin-bottom: 0
    line-height: 1.1
    min-width: 425px

  h4
    display: inline-block
    padding: 1em 2.5em

.pg-author

  > div
    padding-top: 4px
    line-height: 1.1

.content
  padding-top: 60px
  line-height: 1.4
  font-weight: 300

  a
    box-shadow: inset 0 -2px #fff, inset 0 -3px $mute
    text-shadow: -2px 1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff, 2px 1px 0 #fff

    &:hover
      color: black
      box-shadow: inset 0 -1px #fff, inset 0 -3px $red

  strong
    font-weight: 600

  p > small
    line-height: 1

.seven-chinas
  width: 120%
  font-size: 0.8em
  margin: 20px 0 20px -10%
  border-collapse: collapse

  em
    font-size: 0.8em
    color: $mute

.row-title td
  font-weight: 500
  padding-top: 20px

.row-title:first-child td
  border-top: 1px solid $red

.row-then-now td
  vertical-align: top
  padding: 20px 10px
  width: 50%
  border-bottom: 1px solid #ccc

  &:nth-child(2)
    width: 0
    vertical-align: middle

.row-then-now:last-child td
  border-bottom: 1px solid $red

footer



  .list
    padding: 0
    width: 100%

    h2,h4
      font-weight: 500

  .list-item
    width: 50%
    flex-basis: 50%
    padding: 20px 20px


    &:last-child:nth-child(odd)
      flex-basis: 65%
      width: 65%
      margin-left: auto
      margin-right: auto

  .thumb
    position: relative
    display: inline-block
    margin-bottom: 10px
    overflow: hidden

    &:before
      content: ''
      position: absolute
      top: 0
      left: 0
      right: 0
      bottom: 0
      opacity: 0
      background: $red
      transition-duration: 0.3s

    &:hover:before
      opacity: 0.33


// Helpers

.hide
  opacity: 0
.fade
  opacity: 0.05
.show
  opacity: 1
.no-ptr-ev
  pointer-events: none
.ptr
  cursor: pointer
.z1
  z-index: 1
.pos-abs
  position: absolute
.ease-out
  transition: ease-out 300ms
.bare-list
  list-style-type: none
.max-h-0
  max-height: 0
.lg-max-h
  max-height: 1000px
.br-sm
  border-radius: 5px

// Misc

.bracket
  position: absolute
  min-height: 20px
  width: 20px
  border: 1px solid $red
  transition: opacity ease-out 400ms
  left: calc(100% + 20px)

  &:before
    color: $red
    position: absolute
    font-style: italic
    font-family: 'Semi', sans-serif
    font-size: 20px
    bottom: calc(100% + 10px)
    white-space: nowrap

  &-left
    border-right: none

    &:before
      content: 'Responded to by'
      left: calc(40px)

    &-all:before
      content: 'Mentioned in all response articles'

  &-right
    border-left: none

    &:before
      content: 'Responds to these articles'
      right: 40px

    &-all:before
      content: 'Responds to all articles'


// large
@media screen and (max-width: 980px), screen and (max-height: 700px)

  .seven-chinas
    width: 100%
    margin-left: 0

// medium
@media screen and (max-width: 768px), screen and (max-height: 700px)

  .article-w
    width: 90%

  .header-title
    width: auto
    left: 28px

  .logo
    display: none

  .list
    .label
      position: absolute
      width: 100%
    .flex
      flex-direction: column
    .col-1-2
      width: 100%
    .col-1-2:first-child
      text-align: left
    .col-1-2:last-child
      margin-left: 0

  .bracket
    border: 1px solid $mute
    width: calc(100% + 30px)
    left: -15px
    &:before
      color: $mute
      left: 0
    &-left
      border-right: 1px solid
      border-bottom: none
    &-right
      border-left: 1px solid
      border-top: none
    &-right:before
      bottom: calc(-100% - 10px)

  .pg-title h1
    font-size: 44px
    line-height: 44px

// small
@media screen and (max-width: 540px), screen and (max-height: 700px)

  .xl
    font-size: 32px
  .lg
    font-size: 26px
  .md, p
    font-size: 18px
  .sm
    font-size: 16px

  .article-landing
    height: 165vh

  #title-short
    display: inline
  #title-long,
  .social-share-label
    display: none

  .list
    box-shadow: none
    width: 95%

  .pg-title
    margin: 50px auto

// small width only
@media screen and (max-width: 540px)
  .pg-title h1
    min-width: 0
