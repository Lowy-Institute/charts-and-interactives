extend /partials/layout

include /partials/the-interpreter/bar-chart

block append config
  - page.title = "Fishing Licence Revenues in the Pacific"

block page
  .wrapper(
    ontouchstart=""
    class=written.hyphenCase(page.title)
  )
    +interpreter-bar-chart({
      title: page.title,
      subtitle: "Nominal US$, 2004â€“2018",
      height: 320,
      yaxis: [0, 50, 100, 150, 200, 250, 300, 350],
      xaxis: [
        2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013,
        2014, 2015, 2016, 2017, 2018
      ],
      unit: "",
      values: [
      [[21.6,   0.9,  12.1,  0.0,   0.1, 3.1]],
      [[19.1,   1.4,  13.3,  0.0,   0.2, 2.4]],
      [[19.4,   1.5,  13.2,  5.3,   0.2, 3.9]],
      [[21.3,   1.3,  15.0,  3.6,   0.2, 3.7]],
      [[26.2,   1.5,  17.0,  5.1,   0.2, 7.0]],
      [[23.0,   1.5,  20.0,  7.8,   0.2, 7.1]],
      [[38.3,   2.0,  17.7,  8.0,   0.2, 6.6]],
      [[30.0,   3.0,  18.8,  5.2,   0.8, 5.9]],
      [[60.4,   4.1,  26.4,  13.3,  0.4, 8.7]],
      [[85.9,   7.9,  35.0,  13.0,  0.9, 17.4]],
      [[127.6, 11.5,  47.5,  17.9,  3.2, 14.4]],
      [[155.6, 15.8,  65.2,  21.7,  6.2, 12.6]],
      [[118.2, 26.3,  63.4,  27.8,  5.5, 25.3]],
      [[134.1, 40.0,  72.6,  32.3,  9.3, 20.2]],
      [[118.1, 24.9,  65.0,  31.1,  8.5, 32.6]]
      ],

      legend: [
        "Kiribati",
        "Marshall Islands",
        "Fed. States of Micronesia",
        "Nauru",
        "Palau",
        "Tuvalu"
      ]
    })

block scripts
  style
    :sass
      @media (max-width: 720px)
        .bars
          margin: 0
        .bar
          width: 12px
        .bar-group-label
          position: absolute
          left: 50%
          width: auto
          transform: translateX(-50%)

        .bar-group:nth-child(even)
          .bar-group-label
            display: none
