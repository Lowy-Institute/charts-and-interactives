google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// var dataArray = new google.visualization.DataTable();
//       data.addColumn('string', 'Topping');
//       data.addColumn('number', 'Slices');
//       data.addRows([
//         ['Mushrooms', 3],
//         ['Onions', 1],
//         ['Olives', 1],
//         ['Zucchini', 1],
//         ['Pepperoni', 2]
//       ]);

// read.js
const fs = require('fs');
const yaml = require('js-yaml');

try {
    let fileContents = fs.readFileSync('./data.yaml', 'utf8');
    let data = yaml.safeLoad(fileContents);

    console.log(data);
} catch (e) {
    console.log(e);
}

// [
//   ['FY','NSW','VIC','QLD','SA','WA','TAS','NT','ACT'],
//   ['1990',147.953,104.25,60.095,31.187,39.093,8.908,4.449,7.92],
//   ['1991',153.815,104.702,61.364,31.843,40.212,8.894,4.977,8.67],
//   ['1992',156.832,103.683,65.075,32.14,41.628,9.371,4.739,8.972],
//   ['1993',161.115,110.018,70.719,33.751,43.693,9.764,4.905,9.426],
//   ['1994',168.674,115.23,74.843,35.077,47.062,10.026,4.888,9.957],
//   ['1995',178.845,120.893,81.114,36.487,51.093,10.638,5.264,10.232],
//   ['1996',191.685,128.618,85.715,38.732,55.224,11.214,5.727,10.683],
//   ['1997',202.128,135.886,91.165,40.632,56.554,11.63,5.952,11.343],
//   ['1998',213.154,144.388,96.201,43.403,60.731,11.939,6.476,11.805],
//   ['1999',225.189,154.101,102.529,44.101,62.098,12.435,7.277,12.412],
//   ['2000',240.416,164.12,107.738,46.583,68.704,12.784,7.884,12.931],
//   ['2001',253.623,174.822,115.1,49.788,75.555,13.206,8.832,14.14],
//   ['2002',265.438,187.761,127.559,53.639,81.632,14.449,9.099,14.677],
//   ['2003',280.337,199.871,134.751,56.695,88.375,15.159,9.548,16.224],
//   ['2004',300.885,212.936,148.579,59.639,95.268,16.553,9.977,17.204],
//   ['2005',316.831,227.126,164.729,61.849,105.232,17.394,10.922,18.288],
//   ['2006',332.543,238.28,186.793,65.848,121.771,18.963,12.721,19.511],
//   ['2007',353.366,255.153,207.571,70.863,142.001,20.779,14.988,21.872],
//   ['2008',378.118,277.206,223.526,76.768,159.419,22.277,16.093,23.906],
//   ['2009',398.966,288.425,249.503,80.488,176.713,23.031,17.894,25.126],
//   ['2010',417.347,302.231,244.391,84.842,183.957,24.128,17.137,27.178],
//   ['2011',447.437,323.54,260.215,90.766,220.591,25.762,18.862,29.449],
//   ['2012',469.806,336.457,278.75,93.057,243.191,26.379,20.452,31.365],
//   ['2013',484.507,344.644,282.144,95.365,247.217,26.446,23.172,32.812],
//   ['2014',498.785,357.366,289.701,97.778,269.952,27.151,24.434,33.363],
//   ['2015',518.535,372.481,295.752,99.284,252.004,27.615,24.449,34.48],
//   ['2016',542.184,386.929,303.27,99.589,239.951,28.279,24.368,36.143],
//   ['2017',578.353,410.175,330.231,102.708,249.525,29.197,25.552,37.887],
//   ['2018',603.143,432.993,352.248,106.477,258.12,30.71,26.501,39.686],
//   ['2019',625.405,454.59,369.578,110.403,285.563,32.555,27.512,41.641]
// ];

function drawChart() {
  var data = google.visualization.arrayToDataTable(dataArray);


  var options = {
    titlePosition: 'none',
    curveType: 'function',
    chartArea: {top:5, width:"80%", height:"70%"},
    fontName: 'Varela Round',
    lineWidth: 2.5,
    isStacked: true,
    vAxis: {
      // title: 'AUD $ (trillion)',
      titleTextStyle: {italic: false},
      gridlines: {count: 1},
      minorGridlines: {count: 0},
      format:'$#B',
      textStyle: {
        fontSize: 13
      }
    },
    hAxis: {
      slantedText: true,
      slantedTextAngle: 90,
      format: 'short',
      textStyle: {
        fontSize: 14
      }
    },
    legend: {
      position: 'bottom',
      alignment: 'end',
      textStyle: {
        fontSize: 12
      }
    },
    tooltip: {
      isHtml: true,
      textStyle: {
        fontSize: 12
      }
    },
    series: {
      0: {color : '#F37429'}, // Vivid tangelo
      1: {color : '#00263E'}, // Oxford blue
      2: {color : '#306BAC'}, // Lapis lazuli (blue)
      3: {color : '#7C9EB2'}, // Weldon blue78CAD2
      4: {color : '#539FD5'}, // Carolina blue
      5: {color : '#78CAD2'}, // Outer space (grey)
      6: {color : '#FABC3C'}, // Orange-yellow
      7: {color : '#4A6C6F'}, // Earth yello
    }
  };

  var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

  chart.draw(data, options);
}
