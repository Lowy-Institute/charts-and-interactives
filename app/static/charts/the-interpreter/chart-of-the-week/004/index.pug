extend /partials/layout

include /partials/the-interpreter/bar-chart

block append config
  - page.title = "Change in diplomatic posts, 2017–2019"

block page
  .wrapper.flex.flex-col
    .chart-wrap
      svg(width="100%" height="290")
        line.stroke(x2="100%" y1="50%" y2="50%")

        svg(x="20%" height="100%")
          line.bar(y1="50%" y2="10%" stroke="#ff9f19")
          text(y="8%" text-anchor="middle" fill="#ff9f19") +8
          text(y="60%" text-anchor="middle")
            tspan(x=0) Ireland
            tspan.txt-muted(x=0 dy="1.1em") 40th
        svg(x="40%" height="100%")
          line.bar(y1="50%" y2="20%" stroke="#ff9f19")
          text(y="18%" text-anchor="middle" fill="#ff9f19") +6
          text(y="60%" text-anchor="middle")
            tspan(x=0) Turkey
            tspan.txt-muted(x=0 dy="1.1em") 6th
        svg(x="60%" height="100%")
          line.bar(y1="50%" y2="25%" stroke="#ff9f19")
          text(y="23%" text-anchor="middle" fill="#ff9f19") +5
          text(y="60%" text-anchor="middle")
            tspan(x=0) China
            tspan.txt-muted(x=0 dy="1.1em") 1st
        svg(x="80%" height="100%")
          line.bar(y1="50%" y2="75%" stroke="#31363c")
          text(y="32.5%" text-anchor="middle")
            tspan(x=0) Taiwan
            tspan.txt-muted(x=0 dy="1.12em") 32nd
            tspan(x=0 dy="1.6em") -5

    .txt-center
      h1.num-lf.txt-sans.txt-bold.tight
        | Change in diplomatic posts,
        = " "
        span.txt-nowrap 2017–2019
      p.source.txt-muted.txt-xs
        | Source:&nbsp;Lowy Institute Global Diplomacy Index

block append css
  style
    :sass
      .wrapper
        height: 340px
      .chart-wrap
        flex-grow: 1
        margin-bottom: -52px
      svg
        overflow: visible
      .txt-muted
        fill: #969ba4
      text:not([fill])
        fill: currentColor
      .bar
        stroke-width: 24px
      .stroke
        stroke: #ccc
      p
        margin: 8px 0 0 !important
        font-size: 15px
