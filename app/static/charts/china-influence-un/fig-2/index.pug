extend /partials/layout

block append config
  - var datapath = "static/charts/china-influence-un/fig-2/data"
  - var colorpath = "static/charts/templates/colors/data"
  - _.extend(page, data.getOne(datapath))
  - _.extend(page, data.getOne(colorpath))
  - toPercent = (n) => (n * 100).toFixed(2) + "%"
  - isEmpty = (y) => (y === undefined || y == null || y.length <= 0)
  - chart = page
  
block page
  .wrapper.flex
    .txt-center.flex.flex-grow.flex-col
      .chart-title= chart.title
      //.chart-subtitle.txt-muted.txt-tu.p-sm!= chart.subtitle
      .chart.flex-grow: .chart-content
        - ln = chart.series[0].values.length
        - axes = chart.axes
        - minY = axes.minY
        - maxY = axes.maxY
        - range = maxY - minY
        - fx = (i) => (i + 0.6) / (ln + 0.25)
        - fy = (y) => (y - minY) / range
        
        .subtitles
          .box-sub-left: .chart-subtitle Percentage contributions over all countries
          .box-sub-right: .chart-subtitle Percentage contributions over GDP


        .chart-container(height="100%" width="100%")
          // CHART 1: fig-7a
          svg.box-left(height="100%")
            //-- Y-Axis labels
            svg(height="100%")
              svg(y="100.00%")
                text(text-anchor="end" transform="translate(-8 4)") 0%
              svg(y="66.67%")
                text(text-anchor="end" transform="translate(-8 4)") 5%
              svg(y="33.33%")
                text(text-anchor="end" transform="translate(-8 4)") 10%
              svg(y="0.00%")
                text(text-anchor="end" transform="translate(-8 4)") 15%

            // -- Y-Axis minor lines
            svg(height="100%")
              svg
                line(x1="0%" y1="0.00%" x2="0%" y2="100%" stroke="#bbb" stroke-dasharray="")
              svg
                line(x1="0%" y1="0.00%" x2="100%" y2="0.00%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="33.33%" x2="100%" y2="33.33%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="66.67%" x2="100%" y2="66.67%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="100.00%" x2="100%" y2="100%" stroke="#bbb" stroke-dasharray="")
              svg
                line(x1="100%" y1="0.00%" x2="100%" y2="100%" stroke="#bbb" stroke-dasharray="")

            // X-Axis labels
            svg(class="x-label" x="5.33%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2010
            svg(class="x-label" x="14.22%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2011
            svg(class="x-label" x="23.11%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2012
            svg(class="x-label" x="32.00%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2013
            svg(class="x-label" x="40.89%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2014
            svg(class="x-label" x="49.78%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2015
            svg(class="x-label" x="58.67%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2016
            svg(class="x-label" x="67.56%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2017
            svg(class="x-label" x="76.44%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2018
            svg(class="x-label" x="85.33%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2019
            svg(class="x-label" x="94.22%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2020

            // OPTIONAL GUIDE LINE
            // CHART LINES
            svg(height="100%" width="100%" viewBox="0 0 100 100" preserveAspectRatio="none")
              // SERIES LINES
              polyline(fill="none" stroke="#539ed4" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 97.49095374,14.222222222222221 97.70825944666667,23.111111111111114 97.9165786,32 98.58880825333334,40.888888888888886 98.42430288,49.77777777777778 98.46624868666667,58.666666666666664 97.47497953999999,67.55555555555556 96.70486674666667,76.44444444444444 96.40133283333333,85.33333333333333 96.16333862,94.22222222222221 96.07916422")
              polyline(fill="none" stroke="#16B56F" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 90.60545228,14.222222222222221 89.69525745333333,23.111111111111114 89.10246151999999,32 91.48888623333333,40.888888888888886 89.84053254666668,49.77777777777778 90.09281748,58.666666666666664 88.55260372000001,67.55555555555556 86.57092616,76.44444444444444 85.98203354,85.33333333333333 87.04694234,94.22222222222221 88.14029164")
              polyline(fill="none" stroke="#ff8800" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 96.06245858,14.222222222222221 95.85472102,23.111111111111114 95.8864295,32 97.50415535333333,40.888888888888886 97.41581026,49.77777777777778 97.47761849999999,58.666666666666664 97.36000946666667,67.55555555555556 97.22293942666667,76.44444444444444 97.10976516,85.33333333333333 96.74040997333333,94.22222222222221 96.52833208")
              polyline(fill="none" stroke="#68389a" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 98.38414904666666,14.222222222222221 98.29257536,23.111111111111114 98.28326120666667,32 98.85081914666665,40.888888888888886 98.73594456,49.77777777777778 98.76593028666666,58.666666666666664 98.48434330666666,67.55555555555556 98.28703232,76.44444444444444 98.20255757333332,85.33333333333333 98.00214740000001,94.22222222222221 97.91784908666668")
              polyline(fill="none" stroke="#bd5d92" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 99.37016506,14.222222222222221 99.32286681333333,23.111111111111114 99.31988201333334,32 99.61104411333334,40.888888888888886 99.61525736666667,49.77777777777778 99.62619680666667,58.666666666666664 99.42327674666667,67.55555555555556 99.24485498666668,76.44444444444444 99.18570091333333,85.33333333333333 99.06049062,94.22222222222221 98.98320008666667")
              polyline(fill="none" stroke="#a3bc3e" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 94.44030748,14.222222222222221 94.31932183999999,23.111111111111114 94.30148926000001,32 95.51827028000001,40.888888888888886 95.52039138,49.77777777777778 95.56725942,58.666666666666664 94.55474183333334,67.55555555555556 93.44404034,76.44444444444444 93.03053741333333,85.33333333333333 92.72304622,94.22222222222221 92.64743045333333")
              polyline(fill="none" stroke="#ffc52b" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 97.46351366666667,14.222222222222221 97.37009467333333,23.111111111111114 97.34986868666667,32 98.55080796666668,40.888888888888886 98.63076412000001,49.77777777777778 98.66662468,58.666666666666664 98.68740408,67.55555555555556 98.59974146,76.44444444444444 98.58592126666666,85.33333333333333 98.701318,94.22222222222221 98.80532805333334")
              polyline(fill="none" stroke="#a37c09" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 98.35346202666668,14.222222222222221 98.33965944,23.111111111111114 98.37808872,32 99.06282522666667,40.888888888888886 99.05899548666667,49.77777777777778 99.08458322,58.666666666666664 98.99604376,67.55555555555556 98.89926890666668,76.44444444444444 98.86124410000001,85.33333333333333 98.76059358666667,94.22222222222221 98.70938927333334")
              polyline(fill="none" stroke="#F59894" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 97.40398401333333,14.222222222222221 97.24881815333333,23.111111111111114 97.26144516000001,32 96.79224711333333,40.888888888888886 96.19468560666668,49.77777777777778 96.20993732666666,58.666666666666664 96.15468544,67.55555555555556 96.10236948,76.44444444444444 96.23301760000001,85.33333333333333 96.05468375333334,94.22222222222221 96.013447")
              polyline(fill="none" stroke="#ff4050" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 79.70814808,14.222222222222221 78.99132124666667,23.111111111111114 79.03329593333333,32 68.19457967333332,40.888888888888886 60.81928465333334,49.77777777777778 60.69280090666667,58.666666666666664 49.334631333333334,67.55555555555556 40.556446906666665,76.44444444444444 40.939773566666666,85.33333333333333 25.317027000000003,94.22222222222221 12.670507266666664")

            g
              circle(r="4" cx="5.33%" cy="97.49%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="97.71%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="97.92%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="98.59%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="98.42%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="98.47%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="97.47%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="96.70%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="96.40%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="96.16%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="96.08%" fill="#539ed4" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="90.61%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="89.70%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="89.10%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="91.49%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="89.84%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="90.09%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="88.55%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="86.57%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="85.98%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="87.05%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="88.14%" fill="#16B56F" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="96.06%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="95.85%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="95.89%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="97.50%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="97.42%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="97.48%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="97.36%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="97.22%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="97.11%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="96.74%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="96.53%" fill="#ff8800" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="98.38%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="98.29%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="98.28%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="98.85%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="98.74%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="98.77%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="98.48%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="98.29%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="98.20%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="98.00%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="97.92%" fill="#68389a" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="99.37%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="99.32%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="99.32%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="99.61%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="99.62%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="99.63%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="99.42%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="99.24%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="99.19%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="99.06%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="98.98%" fill="#bd5d92" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="94.44%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="94.32%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="94.30%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="95.52%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="95.52%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="95.57%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="94.55%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="93.44%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="93.03%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="92.72%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="92.65%" fill="#a3bc3e" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="97.46%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="97.37%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="97.35%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="98.55%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="98.63%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="98.67%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="98.69%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="98.60%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="98.59%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="98.70%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="98.81%" fill="#ffc52b" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="98.35%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="98.34%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="98.38%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="99.06%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="99.06%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="99.08%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="99.00%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="98.90%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="98.86%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="98.76%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="98.71%" fill="#a37c09" stroke="#fff" stroke-width="0")

            g
              circle(r="4" cx="5.33%" cy="97.40%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="97.25%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="97.26%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="96.79%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="96.19%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="96.21%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="96.15%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="96.10%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="96.23%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="96.05%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="96.01%" fill="#F59894" stroke="#fff" stroke-width="0")

            g
              circle(r="6" cx="5.33%" cy="79.71%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="14.22%" cy="78.99%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="23.11%" cy="79.03%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="32.00%" cy="68.19%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="40.89%" cy="60.82%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="49.78%" cy="60.69%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="58.67%" cy="49.33%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="67.56%" cy="40.56%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="76.44%" cy="40.94%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="85.33%" cy="25.32%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="94.22%" cy="12.67%" fill="#ff4050" stroke="#fff" stroke-width="0") 


          // CHART 2: fig-7b
          .box-sub-right-mobile: .chart-subtitle Percentage contributions over GDP
          svg.box-right(height="100%")

            // Y-Axis labels
            svg(height="100%")
              svg(y="100.00%")
                text(text-anchor="end" transform="translate(-8 4)") 0%
              svg(y="80%")
                text(text-anchor="end" transform="translate(-8 4)") 0.005%
              svg(y="60%")
                text(text-anchor="end" transform="translate(-8 4)") 0.01%
              svg(y="40.00%")
                text(text-anchor="end" transform="translate(-8 4)") 0.015%
              svg(y="20%")
                text(text-anchor="end" transform="translate(-8 4)") 0.02%
              svg(y="0.00%")
                text(text-anchor="end" transform="translate(-8 4)") 0.025%

            // Y-Axis minor lines
            svg(height="100%")
              svg
                line(x1="0%" y1="0.00%" x2="0%" y2="100%" stroke="#bbb" stroke-dasharray="")
              svg
                line(x1="0%" y1="0.00%" x2="100%" y2="0.00%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="20%" x2="100%" y2="20%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="40%" x2="100%" y2="40%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="60.00%" x2="100%" y2="60.00%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="80%" x2="100%" y2="80%" stroke="#5552" stroke-dasharray="")
              svg
                line(x1="0%" y1="100.00%" x2="100%" y2="100%" stroke="#bbb" stroke-dasharray="")
              svg
                line(x1="100%" y1="0.00%" x2="100%" y2="100%" stroke="#bbb" stroke-dasharray="")

            // X-Axis labels
            svg(class="x-label" x="5.33%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2010
            svg(class="x-label" x="14.22%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2011
            svg(class="x-label" x="23.11%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2012
            svg(class="x-label" x="32.00%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2013
            svg(class="x-label" x="40.89%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2014
            svg(class="x-label" x="49.78%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2015
            svg(class="x-label" x="58.67%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2016
            svg(class="x-label" x="67.56%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2017
            svg(class="x-label" x="76.44%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2018
            svg(class="x-label" x="85.33%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2019
            svg(class="x-label" x="94.22%" y="100%")
              text(text-anchor="end" transform="rotate(-45) translate(-8, 24)") 2020

            // OPTIONAL GUIDE LINE
            // CHART LINES
            svg(height="100%" width="100%" viewBox="0 0 100 100" preserveAspectRatio="none")
              // SERIES LINES
              polyline(fill="none" stroke="#539ed4" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 83.814648,14.222222222222221 87.54008,23.111111111111114 87.060056,32 79.82114000000001,40.888888888888886 75.614756,49.77777777777778 77.80530399999999,58.666666666666664 62.493676,67.55555555555556 58.174788,76.44444444444444 45.098756,85.33333333333333 31.019828,94.22222222222221 17.631676")
              polyline(fill="none" stroke="#16B56F" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 88.37723199999999,14.222222222222221 88.64642,23.111111111111114 85.00988000000001,32 72.83164,40.888888888888886 66.30706799999999,49.77777777777778 52.687876,58.666666666666664 47.206136,67.55555555555556 46.833384,76.44444444444444 41.449772,85.33333333333333 43.70593600000001,94.22222222222221 32.99206")
              polyline(fill="none" stroke="#ff8800" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 93.578324,14.222222222222221 93.445876,23.111111111111114 92.36757200000001,32 89.389396,40.888888888888886 89.67752000000002,49.77777777777778 89.680032,58.666666666666664 90.472768,67.55555555555556 91.44345200000001,76.44444444444444 91.438516,85.33333333333333 90.62798000000001,94.22222222222221 89.34891999999999")
              polyline(fill="none" stroke="#68389a" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 94.152128,14.222222222222221 94.488568,23.111111111111114 93.657552,32 90.05938,40.888888888888886 88.442,49.77777777777778 87.662184,58.666666666666664 86.530516,67.55555555555556 86.22096000000002,76.44444444444444 86.192192,85.33333333333333 85.465856,94.22222222222221 83.903392")
              polyline(fill="none" stroke="#bd5d92" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 95.238232,14.222222222222221 95.180684,23.111111111111114 94.93676400000001,32 93.96448800000002,40.888888888888886 94.2675,49.77777777777778 93.391276,58.666666666666664 88.19688,67.55555555555556 83.58140399999999,76.44444444444444 83.58519199999999,85.33333333333333 82.931268,94.22222222222221 80.74927600000001")
              polyline(fill="none" stroke="#a3bc3e" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 71.236356,14.222222222222221 75.606024,23.111111111111114 73.74377600000001,32 52.619492,40.888888888888886 51.758475999999995,49.77777777777778 41.68992,58.666666666666664 30.078464,67.55555555555556 22.218096000000006,76.44444444444444 31.663628,85.33333333333333 26.278224,94.22222222222221 14.444652000000001")
              polyline(fill="none" stroke="#ffc52b" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 83.39212800000001,14.222222222222221 83.45590399999999,23.111111111111114 79.312364,32 71.465224,40.888888888888886 70.742944,49.77777777777778 66.90103199999999,58.666666666666664 66.40684,67.55555555555556 70.010276,76.44444444444444 72.033472,85.33333333333333 72.74543600000001,94.22222222222221 70.851136")
              polyline(fill="none" stroke="#a37c09" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 86.80888399999999,14.222222222222221 87.09391600000001,23.111111111111114 86.165604,32 82.40065999999999,40.888888888888886 81.18348399999999,49.77777777777778 80.367224,58.666666666666664 79.886448,67.55555555555556 80.294972,76.44444444444444 82.007828,85.33333333333333 81.454224,94.22222222222221 78.86061600000001")
              polyline(fill="none" stroke="#F59894" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 75.519212,14.222222222222221 77.385604,23.111111111111114 75.208752,32 35.093824000000005,40.888888888888886 23.11500000000001,49.77777777777778 8.918988000000002,58.666666666666664 10.809700000000005,67.55555555555556 17.423212000000007,76.44444444444444 28.565084000000002,85.33333333333333 23.013212000000006,94.22222222222221 9.08146800000001")
              polyline(fill="none" stroke="#ff4050" stroke-dasharray="" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" points="5.333333333333333 90.890296,14.222222222222221 91.98091199999999,23.111111111111114 91.667,32 73.76746800000001,40.888888888888886 69.53550399999999,49.77777777777778 69.416716,58.666666666666664 62.648019999999995,67.55555555555556 60.551292000000004,76.44444444444444 65.96757199999999,85.33333333333333 57.421516000000004,94.22222222222221 51.337047999999996")

            g
              circle(r="4" cx="5.33%" cy="83.81%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="87.54%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="87.06%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="79.82%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="75.61%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="77.81%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="62.49%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="58.17%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="45.10%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="31.02%" fill="#539ed4" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="17.63%" fill="#539ed4" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="88.38%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="88.65%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="85.01%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="72.83%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="66.31%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="52.69%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="47.21%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="46.83%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="41.45%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="43.71%" fill="#16B56F" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="32.99%" fill="#16B56F" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="93.58%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="93.45%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="92.37%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="89.39%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="89.68%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="89.68%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="90.47%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="91.44%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="91.44%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="90.63%" fill="#ff8800" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="89.35%" fill="#ff8800" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="94.15%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="94.49%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="93.66%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="90.06%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="88.44%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="87.66%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="86.53%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="86.22%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="86.19%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="85.47%" fill="#68389a" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="83.90%" fill="#68389a" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="95.24%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="95.18%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="94.94%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="93.96%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="94.27%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="93.39%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="88.20%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="83.58%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="83.59%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="82.93%" fill="#bd5d92" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="80.75%" fill="#bd5d92" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="71.24%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="75.61%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="73.74%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="52.62%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="51.76%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="41.69%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="30.08%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="22.22%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="31.66%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="26.28%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="14.44%" fill="#a3bc3e" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="83.39%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="83.46%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="79.31%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="71.47%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="70.74%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="66.90%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="66.41%" fill="#ffc52b" stroke="#fff" stroke-width="0")              
              circle(r="4" cx="67.56%" cy="70.01%" fill="#ffc52b" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="72.03%" fill="#ffc52b" stroke="#fff" stroke-width="0")               
              circle(r="4" cx="85.33%" cy="72.75%" fill="#ffc52b" stroke="#fff" stroke-width="0")                 
              circle(r="4" cx="94.22%" cy="70.85%" fill="#ffc52b" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="86.81%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="87.09%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="86.17%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="82.40%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="81.18%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="80.37%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="79.89%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="80.29%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="82.01%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="81.45%" fill="#a37c09" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="78.86%" fill="#a37c09" stroke="#fff" stroke-width="0")
            g
              circle(r="4" cx="5.33%" cy="75.52%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="14.22%" cy="77.39%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="23.11%" cy="75.21%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="32.00%" cy="35.09%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="40.89%" cy="23.12%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="49.78%" cy="8.92%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="58.67%" cy="10.81%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="67.56%" cy="17.42%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="76.44%" cy="28.57%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="85.33%" cy="23.01%" fill="#F59894" stroke="#fff" stroke-width="0")
              circle(r="4" cx="94.22%" cy="9.08%" fill="#F59894" stroke="#fff" stroke-width="0")
            g
              circle(r="6" cx="5.33%" cy="90.89%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="14.22%" cy="91.98%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="23.11%" cy="91.67%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="32.00%" cy="73.77%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="40.89%" cy="69.54%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="49.78%" cy="69.42%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="58.67%" cy="62.65%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="67.56%" cy="60.55%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="76.44%" cy="65.97%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="85.33%" cy="57.42%" fill="#ff4050" stroke="#fff" stroke-width="0")
              circle(r="6" cx="94.22%" cy="51.34%" fill="#ff4050" stroke="#fff" stroke-width="0")
      
      .row
        ul.legend.legend.list-bare.txt-left.flex.flex-ch.flex-wrap
          for ax, i in new Array(chart.series.length)
            if i
              li.legend-item
                span.legend-item-box(style=`background: ${chart.colors[chart.series[i].color]}`)
                span.legend-item-label= chart.series[i].title

      .chart-source.txt-right.txt-muted.txt-cond!= chart.source
      .chart-notes.txt-right.txt-muted.txt-cond!= chart.notes
  
block append css
  style
    :sass
    
      .wrapper
        height: 660px
        max-width: 1062px

      .chart
        box-sizing: border-box
        position: relative

      .chart-content
        position: absolute
        top: 10px
        left: 60px
        right: 20px
        bottom: 40px

      .chart-title
        margin: auto
        font-size: 18px
        
      .chart-subtitle
        font-weight: normal
        margin-top: 0
        font-size: 14px
        padding: 1rem
        
      .tooltip
        position: absolute
        left: 0
        background: #fffe
        padding: .75em
        opacity: 1
        border-radius: .2em
        box-shadow: 0 0 5px 0 #0004
        transition-duration: 0.5s
        pointer-events: none
        font-size: 14px
        text-transform: lowercase
        max-width: 180px
        box-sizing: border-box

      li
        list-style: none
        margin: 0
        padding: 4px 16px 4px 24px
        line-height: 1.2em

      .legend
        font-size: 12px
        margin-top: 1.6em

      .legend-item
        margin: 0 4px
        padding-right: 0
        position: relative
        white-space: nowrap

      .legend-item-box
        position: absolute
        left: 0
        top: .5em
        height: 1em
        width: 1em
        background: black
        border-radius: 50%

      polyline
        vector-effect: non-scaling-stroke

      text
        font-size: 11px
        fill: currentColor

      svg
        overflow: visible
        
      .chart-notes, .chart-source
        margin-right: 2em
        font-size: 11px
        
      .chart-value
        opacity: 0
        transition-duration: .4s
        pointer-events: none
      
      .chart-content:hover .chart-value
        opacity: 1

      .txt-muted
        color: #767676

      .box-left,.box-right
        background-color: #eff1f280
      .box-left,.box-sub-left
        float: left
        width: 46%
        margin: 0
      .box-right,.box-sub-right,.box-subright-mobile
        float: right
        width: 46%
        margin: 0
      .chart-container
        height: 90%
      .box-sub-right-mobile
        display: none

      @media (max-width: 700px)
        
        .x-label text
          text-anchor: end
          transform: rotate(-45deg) translate(-8px, 24px)
        text
          font-size: 11px
        .box-left
          width: 44%
        .box-right
          width: 44%
        .legend
        font-size: 11px
          
      @media (max-width: 450px)
        .legend
          /* flex-direction: column */
        .chart-title
          font-size: 16px
        .chart-subtitle
          font-size: 12px
        .chart-notes,
        .chart-source
          text-align: center
          font-size: 13px
        .x-label 
          display: none  
        .x-label:nth-child(2n+3)
          display: block

        .chart-container
          height: auto
        .box-left,.box-sub-left,.box-right,.box-sub-right-mobile
          width: 100%
          float: none
        .box-sub-right-mobile
          margin-top: 2em !important
        .box-sub-right .chart-subtitle
          display: none
        .box-sub-right-mobile
          display: block
        .x-label text
          text-anchor: middle
          transform: translate(-8px, 18px)
        .chart-subtitle
          padding: 0.5rem
        li 
          padding: 4px 12px 2px 16px
        .legend-item-box
          height: 0.8em
          width: 0.8em
